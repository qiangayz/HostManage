<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .head{
            width: 100%;
            height: 40px;
            background-color: lightskyblue;
        }
        .left_menu{
            position: absolute;
            width: 300px;
            margin-left: 0;
            top: 40px;
            bottom: 0;
            background-color: green;
        }
        .left_menu .menu1{
            width: 100%;
            height: 40px;
            background-color: yellow;
            color: black;
            margin-top:10px ;
            line-height: 40px;
            text-align: center;
        }
        .left_menu .menu1:hover{
            width: 100%;
            height: 40px;
            background-color: red;
            color: white;
            margin-top:10px ;
            line-height: 40px;
            text-align: center;
        }
        .content{
            position: absolute;
            left: 300px;
            top: 40px;
            right: 0;
            bottom: 0;
            background-color: cornsilk;
            padding-left: 300px;
        }
        .hide{
            display: none;
        }
        span{
            background-color: yellow;
            color: black;
        }
        span:hover{
            background-color: red;
            color: white;
        }
        .shade{
            background-color: black;
            opacity: 0.5;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
        }
        .add-modal{
            position: fixed;
            background-color: lightskyblue;
            width: 500px;
            height: 300px;
            top: 35%;
            left: 35%;
            border: 2px solid red;
            z-index: 11;
        }
        .adddata{
            display: inline-block;
            width: 100px;
            height: 30px;
            background-color: dodgerblue;
            color: black;
        }
        .cancel{
            display: inline-block;
            width: 100px;
            height: 30px;
            background-color: dodgerblue;
            color: black;
        }
        .edit{
            background-color: lawngreen;
        }
    </style>
</head>
<body style="margin: 0">
<div class="head">头部布局</div>
<div class="left_menu">
    <div con="con3" class="menu1">用户信息</div>
    <div con="con2" class="menu1">用户类型</div>
    <div con="con1" class="menu1">主机类型</div>
    <div con="con4" class="menu1">测试项目</div>
</div>
<div >
<div id="con1" class="content">
{% include 'hostinfo.html' %}
</div>
<div id="con2" class="content hide">
{% include 'usertype.html' %}
</div>
<div id="con3" class="content hide">
{% include 'userinfo.html' %}
</div>
<div id="con4" class="content hide">
{% include 'testitem.html' %}
</div>
</div>
<div class="shade hide"></div>
<script src="/static/jquery.js"></script>
<script>
    $(function () {


        $('.menu1').click(function () {
            var a = $(this).attr('con');
            console.log(a);
            $('#'+a).removeClass('hide').siblings().addClass('hide');
        });
        $('.adddata').click(function () {
         $('.shade,.add-modal').removeClass('hide');
        });
        $('.cancel').click(function () {
         $('.shade,.add-modal').addClass('hide');
        });
        $('#ajaxcommit').click(function () {
            $.ajax({
                url:"/hostApp/test_ajax",
                type:"POST",
                data:{'hostname':$('#envinfo').val(),
                       "ip":$("#ipinfo").val(),
                       "port":$("#portinfo").val(),
                       "usernameinfo":$("#usernameinfo").val(),
                       "passwordinfo":$("#passwordinfo").val(),
                       "iteminfo":$("#iteminfo").val(),
                },
                success:function (data) {
                    var dict = JSON.parse(data);
                    if(dict.status){
                        location.reload()
                    }else {
                        $('#error_msg').text(dict.error)
                    }
                }
                })
        });
        $("span[delid='delitem']").click(function () {
            var hid =$(this).parent().parent().attr('hid');
            $(this).parent().parent().remove();
            $.ajax(
                {
                    url: "/hostApp/test_ajax1",
                    type: "POST",
{#                    data: $('#add_form').serialize(),#}
                    data: {
                        'tablename': 'host',
                        'hid': hid
                    },
                    success: function (data) {
                        var dict = JSON.parse(data);
                        if (dict.status) {
                            alert('删除成功')
                        }
                        {#                        location.reload()#}
                        {#                    }else {#}
                        {#                        $('#error_msg').text(dict.error)#}
                        {#                    }#}
                    },
                }
            )
        });
        $(".edit").click(function () {
            var hid =$(this).parent().parent().attr('hid');
            var str="/hostApp/edit_data-"+hid;
            location.href=str
        })
        })
    </script>

</body>
</html>